{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Project with user dashboard, document verification system, and payment gateway integration",
  "architectural_notes": [
    "User data stored securely in Motoko backend canister",
    "Document files stored as binary data in backend",
    "Pop-up registration modal appears on first user access",
    "Admin-only access control for user management and document viewing",
    "PagBank payment gateway integration for transactions"
  ],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-integrate-pagbank-payment-gateway-as-a-payment-provider-option-alongside-the-existing-gateway-provider-add-pagbank-specific-configuration-fields-in-the-admin-payment-settings-panel",
      "title": "Integrate PagBank payment gateway as a payment provider option alongside the existing gateway provider. Add PagBank-specific configuration fields in the admin payment settings panel.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-create-frontend-pagbank-payment-flow-hook-usepagbankpayment-that-handles-payment-initiation-redirects-users-to-pagbank-checkout-and-polls-for-payment-status-updates-after-return",
      "title": "Create frontend PagBank payment flow hook (usePagBankPayment) that handles payment initiation, redirects users to PagBank checkout, and polls for payment status updates after return.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-update-checkoutpage-to-detect-selected-payment-provider-and-render-pagbank-specific-payment-flow-when-pagbank-is-configured-as-the-active-provider-while-maintaining-existing-gateway-provider-flow",
      "title": "Update CheckoutPage to detect selected payment provider and render PagBank-specific payment flow when PagBank is configured as the active provider, while maintaining existing gateway provider flow.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-create-pagbanksetupguide-component-in-frontend-src-components-payments-that-provides-step-by-step-instructions-for-administrators-to-obtain-pagbank-api-credentials-configure-webhook-urls-and-test-the-integration-in-sandbox-mode",
      "title": "Create PagBankSetupGuide component in frontend/src/components/payments/ that provides step-by-step instructions for administrators to obtain PagBank API credentials, configure webhook URLs, and test the integration in sandbox mode.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "User registration dashboard with personal data collection (name, RG, CPF, birth date, mother's name, marital status, address, CEP, reference point)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Document upload system for CNH (digital or front/back), RG (front/back), or passport",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Administrative panel to view users, search/filter data, and block/unblock access",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "PagBank payment gateway integration",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Implement backend PagBank payment session creation endpoint that generates payment links or checkout URLs using PagBank's API. Store payment sessions with reference IDs, amounts, and status tracking.",
      "reqIds": [
        "REQ-6"
      ],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Add PagBank webhook handler endpoint in backend to receive payment notifications from PagBank and update payment session status (approved, rejected, cancelled). Activate user subscription upon approved payment.",
      "reqIds": [
        "REQ-8"
      ],
      "status": "pending"
    }
  ],
  "projectName": "ROTAS E DIREITOS",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}